---
# tasks file for packages
- name: Install basic packages
  ansible.builtin.package:
    name:
    - ca-certificates
    - curl
    - gnupg
    - lsb-release

- name: Add Docker GPG apt Key
  apt_key:
    url: https://download.docker.com/linux/ubuntu/gpg
    state: present

- name: Add Docker Repository
  apt_repository:
    repo: deb https://download.docker.com/linux/ubuntu bionic stable
    state: present

- name: Add repository for shutter
  ansible.builtin.apt_repository:
    repo: ppa:shutter/ppa
    state: present

- name: Add repository for pulseeffects
  ansible.builtin.apt_repository:
    repo: ppa:mikhailnov/pulseeffects
    state: present

- name: Install applications via the package manager
  ansible.builtin.package:
    name:
    - docker-ce
    - tilix
    - fzf
    - shutter
    - speedcrunch
    - xtightvncviewer
    - pulseeffects
    - vim
    - htop
    - meld
    - ncdu
    - iotop
    - build-essential
    - git
    - tig
    - neofetch
    - vlc
    state: present

- name: Install snap packages
  snap:
    name:
    - code
    - spotify
    classic: yes
    state: present

- name: Add user to docker group
  ansible.builtin.user:
    name: "{{ lookup('env','USER') }}"
    append: yes
    groups: docker
  become: yes
  become_method: sudo
